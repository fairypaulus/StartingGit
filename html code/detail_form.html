<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
  <style>
    form {
      background-color: blue;
    }
  </style>
  </head>
  <body>
    <form id="addForm" class="container mb-3 text-center ">
       <h1 class="text-center">DETAILS</h1>
    <label style="font-weight: bold;" >NAME:</label>
    <input type="text" id="nameid" required>
    <label style="font-weight: bold;" >EMAIL:</label>
    <input type="email" id="emailid" required>
    <label style="font-weight: bold;">PHONE NUMBER:</label>
    <input type="number" id="phoneid" required><br>
    <input type="submit" class="btn btn-dark mt-2 align-content-center" value="Submit" id="subid">
</form>

    <script>
    var addform=document.getElementById("addForm");

    //create ul
    var ul=document.createElement("ul");
    ul.id="items";
    ul.style="list-style: circle";
    ul.className="list-group mt-3";
    addform.appendChild(ul);
    console.log(ul);
   
    var itemlist=document.getElementById("items");
    addform.addEventListener("submit",addItem);

    //function for form submit
  function addItem(e){
  e.preventDefault();

  var nameItem = document.getElementById('nameid').value;
  var emailItem = document.getElementById('emailid').value;
  var phoneItem = document.getElementById('phoneid').value;

//create li and add as ul child
  var li = document.createElement('li');
  li.className ="list-group-item";
  li.id=emailItem;
  ul.appendChild(li);
  var detail=nameItem+"-"+emailItem+"-"+phoneItem;
  li.appendChild(document.createTextNode(detail));
  itemlist.appendChild(li);
  console.log(li);

      let myobj_serialization=JSON.stringify(detail);
      localStorage.setItem(emailItem,myobj_serialization);

 //delete button create 
  var btndel=document.createElement("button");
  btndel.id="delbtn";
  btndel.className="btn btn-danger ms-3 btn-sm float-right delete";
  btndel.appendChild(document.createTextNode("Delete"))
  li.appendChild(btndel);
  console.log(btndel);

  //edit button create 
  var btnedt=document.createElement("button");
  btnedt.id="edtbtn";
  btnedt.className="btn btn-danger ms-3 btn-sm float-right edit";
  btnedt.appendChild(document.createTextNode("edit"))
  li.appendChild(btnedt);
  console.log(btnedt);
  }

  //removing item from li
   itemlist.addEventListener("click",removeItem);
   
  function removeItem(e){

    var li=e.target.parentElement;

    if(e.target.classList.contains("delete")){
      console.log("delete wala ",li)
        itemlist.removeChild(li);
        localStorage.removeItem(li.id);
    }
    else if(e.target.classList.contains("edit")){
      itemlist.removeChild(li);
      for(let i=0;i<3;i++){
      let arr = li.childNodes[0].textContent.split('-');
        console.log("edit wala ",li)
        document.getElementById('nameid').value=arr[0];
        document.getElementById('emailid').value=arr[1];
        document.getElementById('phoneid').value=arr[2];
      }
      localStorage.removeItem(li.id);
    }
  }
        
    </script>
  </body>
</html>
