<!DOCTYPE html>
<html lang="en">
<head>
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"> </script>

  </head>
</head>
<body>

    <h1 align="center">rest Api </h1>
    <button type="button" id="getreq" class="btn btn-primary">get request</button>
    <button type="button" id="postreq" class="btn btn-success">post request</button>
    <button type="button" id="updatereq" class="btn btn-danger">put/patch data</button>
    <button type="button" id="delreq" class="btn btn-warning">delete request</button>
    <button type="button" id="simreq" class="btn btn-secondary">simountaneous request</button>
    <button type="button" id="head" class="btn btn-light">custom headers</button>
   

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" 
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script>

    // Add a request interceptor
    axios.interceptors.request.use(config => {
    //Intercept the request and do something before it is sent
    console.log("Request sent");
    return config;
}, error => {
    return Promise.reject(error);
});

 // Add a reponse interceptor
 axios.interceptors.response.use(config => {
    //Intercept the response and do something when it is received
    console.log("Response recieved");
    return config;
}, error => {
    return Promise.reject(error);
});

 //GET REQUEST
 var get= document.getElementById('getreq');
     get.addEventListener("click" , getdata);

     function getdata(){
            axios.
            get('https://jsonplaceholder.typicode.com/todos/1')
      .then(response => console.log(response.data))
      .catch(err => console.log(err))
        }
    




        //CUSTOM HEADER
     var cuhea=document.getElementById('head');
     cuhea.addEventListener("click",()=>{
        axios.post('https://jsonplaceholder.typicode.com/todos',{
            title:"my application title",
            body:"my application body"
        },
           { headers:{
                'Content-Type ': 'application/json'
        }}
    ).then(response => console.log(response.headers))
                .catch(err => console.log(err))
     })

       

        //POST REQUEST
     var post= document.getElementById('postreq');
     post.addEventListener("click" ,function postdata(){
            axios.
            post('https://jsonplaceholder.typicode.com/todos',{
                title:"new post",
                body:"new post"
                })
                .then(response => console.log(response.data))
                .catch(err => console.log(err))
        });

        //UPDATE REQUEST
     var update= document.getElementById('updatereq');
     update.addEventListener("click" , ()=>{
        axios.
        put('https://jsonplaceholder.typicode.com/todos/1',{
            title:'updated title for 1',
            body:'updated body for 1'
        })
        .then(response => console.log(response.data))
      .catch(err => console.log(err))
     });

     //DELETE REQUEST
     var deletereq= document.getElementById('delreq');

     deletereq.addEventListener("click" , ()=>{
        axios.
        delete('https://jsonplaceholder.typicode.com/todos/1')
        .then(response=>console.log(response))
        .catch(err=>console.log(err))
     })

     //SIMOUNTANEOUS REQUEST
     var simrequest= document.getElementById('simreq');

     simrequest.addEventListener("click",()=>{
        axios.all([
            axios.get('https://jsonplaceholder.typicode.com/todos/4'),
            axios.post('https://jsonplaceholder.typicode.com/todos',{
                title:"new post",
                body:"new post"
                })
        ])
        .then(response=>{
            console.log(response[0]);
            console.log(response[1]);
         })
         .catch(err=>console.log(err))
     })
// Add a response interceptor
axios.interceptors.response.use(function (response) {
    // Any status code that lie within the range of 2xx cause this function to trigger
    // Do something with response data
    return response;
  }, function (error) {
    // Any status codes that falls outside the range of 2xx cause this function to trigger
    // Do something with response error
    return Promise.reject(error);
  });

     

        </script>
   
</body>
</html>